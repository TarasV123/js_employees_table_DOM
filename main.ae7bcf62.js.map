{"version":3,"sources":["scripts/main.js"],"names":["table","document","querySelector","thead","tableBody","rows","querySelectorAll","sortDirection","sortFunctions","cell1","cell2","localeCompare","Number","replace","addEventListener","e","eIndex","target","cellIndex","sortRows","sort","row1","row2","textContent","sortFunction","append","rowsSorted","i","isActive","length","k","classList","remove","add","newForm","createElement","className","body","appendChild","innerHTML","preventDefault","form","formData","FormData","newRow","insertRow","notification","dataset","qa","get","insertAdjacentHTML","entries","pair","nameCell","value","toLocaleString","style","currency","insertCell","push","setTimeout"],"mappings":"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","file":"main.ae7bcf62.js","sourceRoot":"..\\src","sourcesContent":["'use strict';\r\n\r\nconst table = document.querySelector('table');\r\nconst thead = table.querySelector('thead');\r\nconst tableBody = table.querySelector('tbody');\r\nconst rows = [...tableBody.querySelectorAll('tr')];\r\nlet sortDirection = 1;\r\n\r\nconst sortFunctions = {\r\n  'Name': (cell1, cell2) => sortDirection * cell1.localeCompare(cell2),\r\n  'Position': (cell1, cell2) => sortDirection * cell1.localeCompare(cell2),\r\n  'Office': (cell1, cell2) => sortDirection * cell1.localeCompare(cell2),\r\n  'Age': (cell1, cell2) => sortDirection * (cell1 - cell2),\r\n  'Salary': (cell1, cell2) => sortDirection\r\n    * (Number(cell1.replace(/[^\\d.-]/g, ''))\r\n    - Number(cell2.replace(/[^\\d.-]/g, ''))),\r\n};\r\n\r\nthead.addEventListener('click', e => {\r\n  const eIndex = e.target.cellIndex;\r\n\r\n  const sortRows = rows.sort((row1, row2) => {\r\n    const cell1 = row1.querySelectorAll('td')[eIndex].textContent;\r\n    const cell2 = row2.querySelectorAll('td')[eIndex].textContent;\r\n\r\n    const sortFunction = sortFunctions[e.target.textContent];\r\n\r\n    return sortFunction(cell1, cell2);\r\n  });\r\n\r\n  tableBody.append(...sortRows);\r\n  sortDirection *= -1;\r\n});\r\n\r\nconst rowsSorted = [...table.querySelector('tbody').querySelectorAll('tr')];\r\n\r\nfor (let i = 0; i < rowsSorted.length; i++) {\r\n  rowsSorted[i].addEventListener('click', () => {\r\n    const isActive = document.querySelectorAll('tr.active');\r\n\r\n    if (isActive.length > 0) {\r\n      for (let k = 0; k < isActive.length; k++) {\r\n        isActive[k].classList.remove('active');\r\n      }\r\n    }\r\n\r\n    rowsSorted[i].classList.add('active');\r\n  });\r\n};\r\n\r\nconst newForm = document.createElement('form');\r\n\r\nnewForm.className += ' new-employee-form';\r\n\r\nconst body = document.querySelector('body');\r\n\r\nbody.appendChild(newForm);\r\n\r\nnewForm.innerHTML = `\r\n<label>\r\n  Name: <input name=\"name\" type=\"text\"  data-qa=\"name\"\r\n               required pattern=\"[A-Z][A-Za-z]*\"\r\n>\r\n</label>\r\n<label>\r\n  Position: <input name=\"position\" type=\"text\" data-qa=\"position\" required>\r\n</label>\r\n\r\n<label>\r\n  Office: \r\n    <select name=\"office\" data-qa=\"office\" required>\r\n      <option>Tokyo</option>\r\n      <option>Singapore</option>\r\n      <option>London</option>\r\n      <option>New York</option>\r\n      <option>Edinburgh</option>\r\n      <option>San Francisco</option>\r\n    </select>\r\n</label>\r\n\r\n<label>\r\n  Age: \r\n    <input name=\"age\" data-qa=\"age\" type=\"number\" required>\r\n</label>\r\n\r\n<label>\r\n  Salary: <input name=\"salary\" type=\"number\" data-qa=\"salary\" required min=\"1\"> \r\n</label>\r\n\r\n<button type=\"submit\">Save to table</button>\r\n`;\r\n\r\nnewForm.addEventListener('submit', (e) => {\r\n  e.preventDefault();\r\n\r\n  const form = document.querySelector('form');\r\n  const formData = new FormData(form);\r\n\r\n  ;\r\n\r\n  const newRow = tableBody.insertRow();\r\n\r\n  const notification = document.createElement('div');\r\n\r\n  notification.classList.add('notification');\r\n  notification.dataset.qa = 'notification';\r\n\r\n  if (formData.get('name').length < 3) {\r\n    notification.classList.add('error');\r\n\r\n    notification.insertAdjacentHTML('afterbegin', `\r\n    <h2 class=\"title\">INCORRECT NAME</h2>\r\n      <span>\r\n        Please type in correct name. Name should have at least 3 letters.\r\n      </span>\r\n    `);\r\n  } else if (formData.get('age') < 18 || formData.get('age') > 90) {\r\n    notification.classList.add('error');\r\n\r\n    notification.insertAdjacentHTML('afterbegin', `\r\n    <h2 class=\"title\">INCORRECT AGE</h2>\r\n      <span>\r\n      You are too young or too old\r\n      </span>\r\n    `);\r\n  } else {\r\n    notification.classList.add('success');\r\n\r\n    notification.insertAdjacentHTML('afterbegin', `\r\n      <h2 class=\"title\">Welcome!!!</h2>\r\n      <span>\r\n        New employee was added!\r\n      </span>\r\n    `);\r\n\r\n    for (const pair of formData.entries()) {\r\n      const nameCell = pair[0];\r\n      let value = pair[1];\r\n\r\n      if (nameCell === 'salary') {\r\n        value = (+value).toLocaleString('en-US', {\r\n          style: 'currency', currency: 'USD',\r\n        });\r\n      }\r\n\r\n      const newCell = newRow.insertCell();\r\n\r\n      newCell.textContent = value;\r\n    }\r\n\r\n    rows.push(newRow);\r\n  }\r\n\r\n  document.body.append(notification);\r\n\r\n  setTimeout(() => {\r\n    notification.remove();\r\n  }, 1500);\r\n});\r\n"]}